# ==================== Core Settings ====================
# Secret key for session cookie signing (must match registry SECRET_KEY)
# Generate a secure random string for production use
# To generate: python -c 'import secrets; print(secrets.token_hex(32))'
SECRET_KEY=your-secret-key-here
ADMIN_USER=admin
ADMIN_PASSWORD=your-admin-password

# JWT Settings
JWT_ISSUER=jarvis-auth-server
JWT_AUDIENCE=jarvis-registry
JWT_SELF_SIGNED_KID=self-signed-key-v1
MAX_TOKEN_LIFETIME_HOURS=24
DEFAULT_TOKEN_LIFETIME_HOURS=8

# Rate Limiting
MAX_TOKENS_PER_USER_PER_HOUR=100

# ==================== Server URLs ====================
AUTH_SERVER_URL=http://localhost:8888
AUTH_SERVER_EXTERNAL_URL=http://localhost:8888
REGISTRY_URL=http://localhost:7860

# API Prefix (optional) - Serve all routes under a specific path prefix
# Examples:
#   API_PREFIX=/auth      -> Routes: /auth/oauth2/providers, /auth/health, etc.
#   API_PREFIX=/gateway   -> Routes: /gateway/oauth2/providers, /gateway/health, etc.
#   API_PREFIX=           -> Routes: /oauth2/providers, /health, etc. (no prefix)
# Note: Do NOT include trailing slash
AUTH_SERVER_API_PREFIX=

# ==================== Auth Provider ====================
# Options: cognito, keycloak, entra
AUTH_PROVIDER=keycloak

# ==================== Keycloak Settings ====================
KEYCLOAK_URL=http://localhost:9090
KEYCLOAK_EXTERNAL_URL=http://localhost:9090
KEYCLOAK_REALM=mcp-gateway
KEYCLOAK_CLIENT_ID=your-keycloak-client-id
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret
# Optional M2M credentials
KEYCLOAK_M2M_CLIENT_ID=your-m2m-client-id
KEYCLOAK_M2M_CLIENT_SECRET=your-m2m-client-secret

# ==================== Cognito Settings ====================
# Cognito User Pool ID
COGNITO_USER_POOL_ID=your-user-pool-id
# Cognito App Client ID
COGNITO_CLIENT_ID=your-cognito-client-id
# Cognito App Client Secret
COGNITO_CLIENT_SECRET=your-cognito-client-secret
# Cognito Domain (without https:// prefix, just the domain name)
# Example: mcp-gateway or your-custom-domain
COGNITO_DOMAIN=your-cognito-domain
# AWS Region for Cognito
AWS_REGION=us-east-1

# ==================== Entra ID Settings ====================
ENTRA_TENANT_ID=your-tenant-id
ENTRA_CLIENT_ID=your-entra-client-id
ENTRA_CLIENT_SECRET=your-entra-client-secret
# Options: id, access
ENTRA_TOKEN_KIND=id

# ==================== OAuth Device Flow Settings ====================
# Device code expiration time in seconds (default: 600 = 10 minutes)
DEVICE_CODE_EXPIRY_SECONDS=600
# Polling interval for device flow in seconds (default: 5 seconds)
DEVICE_CODE_POLL_INTERVAL=5
