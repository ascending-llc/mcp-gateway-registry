# docker-compose.override.yml.example
#
# This file provides examples for overriding the default docker-compose.yml configuration.
# Copy this file to docker-compose.override.yml and customize it for your environment.
#
# Usage:
#   cp docker-compose.override.yml.example docker-compose.override.yml
#   # Edit docker-compose.override.yml with your settings
#   docker-compose up -d
#
# Note: docker-compose.override.yml is automatically loaded by docker-compose
# and will override settings from docker-compose.yml

services:
  # Example: Override auth-server configuration for Microsoft Entra ID
  auth-server:
    environment:
      # Set the authentication provider
      - AUTH_PROVIDER=entra_id
      
      # Microsoft Entra ID configuration
      - ENTRA_TENANT_ID=your-tenant-id-here
      - ENTRA_CLIENT_ID=your-client-id-here
      - ENTRA_CLIENT_SECRET=your-client-secret-here
      
      # Optional: Custom claim mappings
      # These determine which claims from the ID token are used for user information
      # - ENTRA_USERNAME_CLAIM=preferred_username  # Default: preferred_username
      # - ENTRA_GROUPS_CLAIM=groups                # Default: groups
      # - ENTRA_EMAIL_CLAIM=email                  # Default: email
      # - ENTRA_NAME_CLAIM=name                    # Default: name
      
      # Optional: Advanced configuration for sovereign clouds
      # Microsoft Graph API base URL (default: https://graph.microsoft.com)
      # - ENTRA_GRAPH_URL=https://graph.microsoft.us                          # US Government
      # - ENTRA_GRAPH_URL=https://microsoftgraph.chinacloudapi.cn             # China
      
      # M2M scope for client credentials flow (default: https://graph.microsoft.com/.default)
      # - ENTRA_M2M_SCOPE=https://graph.microsoft.us/.default                 # US Government
      # - ENTRA_M2M_SCOPE=https://microsoftgraph.chinacloudapi.cn/.default    # China

  # Example: Disable Keycloak if using Entra ID
  # keycloak:
  #   profiles:
  #     - disabled
  # keycloak-db:
  #   profiles:
  #     - disabled

  # Example: Disable Frontend container if running Vite Server
  # registry-frontend:
  #   profiles:
  #     - disabled 

